%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Pendulum
clear all;
close all;
clc;


m = 5;                  % mass of the pendulum bob (kg)

g = 9.81;                   % acceleration due to gravity (m/s^2)

c = 1;

k = 2;           

A = [0,     1;
    -k/m,    -c/m];
 
B = [0; 1/m];
    
C = [1 0;
     0 1];
 
D = [0;
     0];
 
 
 
 
% sampling period
Ts = 0.01;
 


%% new A,B, Ref matrix 
A_new = [A,zeros(2,1);
         -1/Ts,zeros(1,2)];
     
B_new = [B;
         0];
     
C_new = [1 0 0;
         0 0 1];
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% 

[A_new,B_new] = c2d(A_new,B_new,Ts)

Q = [100,0,0;
     0,10,0;
     0,0,1];
 
R = 0.33;

K = dlqr(A_new,B_new,Q,R)

Ac = [(A_new-B_new*K)];

eig(Ac)
E  = [0;
      0;
      1];

  
Init_condition = [0;
                  0;
                  0];
  
P = [0.1,0.2,0.3];
L = place(A_new',C_new',P)'



%% Pendulum
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%